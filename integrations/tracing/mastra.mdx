---
title: "Mastra"
description: "Trace Mastra AI agent workflows with Respan."
---

<Accordion title="Set up Respan">
1. **Sign up** — Create an account at [platform.respan.ai](https://platform.respan.ai)
2. **Create an API key** — Generate one on the [API keys page](https://platform.respan.ai/platform/api/api-keys)
3. **Add credits or a provider key** — Add credits on the [Credits page](https://platform.respan.ai/platform/api/credits) or connect your own provider key on the [Integrations page](https://platform.respan.ai/platform/api/integrations)
</Accordion>

<Accordion title="Use AI">
Add the [Docs MCP](/documentation/getting-started/ask-ai) to your AI coding tool to get help building with Respan. No API key needed.
```json
{
  "mcpServers": {
    "respan-docs": {
      "url": "https://docs.respan.ai/mcp"
    }
  }
}
```
</Accordion>

## What is Mastra?

[Mastra](https://mastra.ai/) is a TypeScript framework for building AI agents and workflows. It provides structured agent orchestration, tool management, and built-in telemetry via OpenTelemetry.

<Check>
Example project: [GitHub Link](https://github.com/respanai/respan-example-projects/tree/main/typescript/tracing/mastra)
</Check>

## Setup

<Steps>
<Step title="Install packages">

```bash
npm install mastra @respan/exporter-vercel
```

</Step>

<Step title="Set environment variables">

```bash
export RESPAN_API_KEY="YOUR_RESPAN_API_KEY"
export OPENAI_API_KEY="YOUR_OPENAI_API_KEY"
```

</Step>

<Step title="Configure Mastra with Respan">

```typescript
import { Mastra } from 'mastra';
import { RespanExporter } from '@respan/exporter-vercel';

const mastra = new Mastra({
  telemetry: {
    serviceName: 'my-mastra-app',
    enabled: true,
    export: {
      type: 'custom',
      exporter: new RespanExporter({
        apiKey: process.env.RESPAN_API_KEY!,
        baseUrl: process.env.RESPAN_BASE_URL,
        debug: true, // enable for troubleshooting
      }),
    },
  },
});
```

</Step>

<Step title="View your trace">

Open the [Traces page](https://platform.respan.ai/platform/traces) to see your agent traces.

</Step>
</Steps>

## Configuration

Mastra uses the `RespanExporter` from `@respan/exporter-vercel`. See the [Vercel Exporter SDK reference](/sdks/typescript/exporters/vercel) for exporter configuration.

| Mastra config | Type | Description |
|---------------|------|-------------|
| `telemetry.serviceName` | `string` | Application name for traces. |
| `telemetry.enabled` | `boolean` | Enable/disable telemetry. |
| `telemetry.export.type` | `"custom"` | Must be `"custom"` for Respan. |
| `telemetry.export.exporter` | `SpanExporter` | `RespanExporter` instance. |

Run the Mastra development playground to test your agent:

```bash
mastra dev
```
