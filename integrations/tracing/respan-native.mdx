---
title: "Respan"
description: "Trace your LLM workflows using the Respan tracing SDK."
---

<Accordion title="Set up Respan">
1. **Sign up** — Create an account at [platform.respan.ai](https://platform.respan.ai)
2. **Create an API key** — Generate one on the [API keys page](https://platform.respan.ai/platform/api/api-keys)
3. **Add credits or a provider key** — Add credits on the [Credits page](https://platform.respan.ai/platform/api/credits) or connect your own provider key on the [Integrations page](https://platform.respan.ai/platform/api/integrations)
</Accordion>

<Accordion title="Use AI">
Add the [Docs MCP](/documentation/getting-started/ask-ai) to your AI coding tool to get help building with Respan. No API key needed.
```json
{
  "mcpServers": {
    "respan-docs": {
      "url": "https://docs.respan.ai/mcp"
    }
  }
}
```
</Accordion>

## What is Respan Tracing?

The [Respan tracing SDK](https://pypi.org/project/respan-tracing/) is a Python library built on [OpenTelemetry](https://opentelemetry.io/) that captures telemetry for LLM applications. Add `@workflow`, `@task`, `@agent`, and `@tool` decorators to your code to get full trace visibility with auto-instrumented LLM calls.

<Check>
Example projects:
- [Python](https://github.com/respanai/respan-example-projects/tree/main/python/tracing/respan-tracing-sdk)
- [TypeScript](https://github.com/respanai/respan-example-projects/tree/main/typescript/tracing/respan-tracing-sdk)
</Check>

## Setup

<Steps>
<Step title="Install the SDK">

<CodeGroup>
```bash Python
pip install respan-tracing
```
```bash JavaScript
npm install @respan/tracing
```
</CodeGroup>

<Note>
**Python Requirement**: This package requires **Python 3.9** or later.
</Note>

</Step>

<Step title="Set environment variables">

<CodeGroup>
```bash Python
export RESPAN_API_KEY="YOUR_RESPAN_API_KEY"
export RESPAN_BASE_URL="https://api.respan.ai/api"  # optional, this is the default
```
```bash JavaScript
export RESPAN_API_KEY="YOUR_RESPAN_API_KEY"
export RESPAN_BASE_URL="https://api.respan.ai/api"
export OPENAI_API_KEY="YOUR_OPENAI_API_KEY"
```
</CodeGroup>

</Step>

<Step title="Initialize and run a workflow">

<CodeGroup>
```python Python
from respan_tracing import RespanTelemetry, workflow, task
from openai import OpenAI

telemetry = RespanTelemetry()
client = OpenAI()

@task(name="joke_creation")
def create_joke():
    completion = client.chat.completions.create(
        model="gpt-4o-mini",
        messages=[{"role": "user", "content": "Tell me a joke about AI"}],
        temperature=0.7,
        max_tokens=100,
    )
    return completion.choices[0].message.content

@workflow(name="simple_joke_workflow")
def joke_workflow():
    return create_joke()

if __name__ == "__main__":
    result = joke_workflow()
    print(result)
```
```typescript JavaScript
import { RespanTelemetry } from '@respan/tracing';
import OpenAI from 'openai';

const respanAi = new RespanTelemetry({
    apiKey: process.env.RESPAN_API_KEY || "",
    appName: 'test-app',
    disableBatch: true
});

const openai = new OpenAI();

async function createJoke() {
    return await respanAi.withTask(
        { name: 'joke_creation' },
        async () => {
            const completion = await openai.chat.completions.create({
                messages: [{ role: 'user', content: 'Tell me a joke about AI' }],
                model: 'gpt-4o-mini',
                temperature: 0.7,
                max_tokens: 100
            });
            return completion.choices[0].message.content;
        }
    );
}

async function simpleJokeWorkflow() {
    return await respanAi.withWorkflow(
        { name: 'simple_joke_workflow' },
        async () => {
            return await createJoke();
        }
    );
}

async function main() {
    const result = await simpleJokeWorkflow();
    console.log(result);
}

main().catch(console.error);
```
</CodeGroup>

</Step>

<Step title="View your trace">

Open the [Traces page](https://platform.respan.ai/platform/traces) in the Respan dashboard.

<Frame className="rounded-md">
<img width="100%" src="https://keywordsai-static.s3.us-east-1.amazonaws.com/docs/documentation/get-started/overview/trace_tree_v1.png" alt="Agent tracing visualization" />
</Frame>

</Step>
</Steps>

## Configuration

### Python SDK

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `app_name` | `str` | `"respan"` | Application name attached to all spans. |
| `api_key` | `str \| None` | `None` | API key. Falls back to `RESPAN_API_KEY` env var. |
| `base_url` | `str \| None` | `None` | API URL. Falls back to `RESPAN_BASE_URL`, then `https://api.respan.ai/api`. |
| `log_level` | `str` | `"INFO"` | SDK log level: `DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL`. |
| `is_batching_enabled` | `bool \| None` | `True` | Enable batch span processing. |
| `instruments` | `Set[Instruments] \| None` | `None` (all) | Specific instruments to enable. Pass `set()` to disable all. |
| `block_instruments` | `Set[Instruments] \| None` | `None` | Instruments to explicitly disable. |
| `is_enabled` | `bool` | `True` | Set `False` for no-op mode. |

See [RespanTelemetry reference](/sdks/python/tracing/main/initialize) for the full parameter list.

### JavaScript SDK

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `apiKey` | `string` | — | API key. |
| `appName` | `string` | `"respan"` | Application name. |
| `baseURL` | `string` | `"https://api.respan.ai"` | API base URL. |
| `disableBatch` | `boolean` | `false` | Disable batch processing (useful for testing). |
| `logLevel` | `string` | `"warn"` | SDK log level: `"debug"`, `"info"`, `"warn"`, `"error"`. |
| `instrumentModules` | `object` | — | Modules to auto-instrument (e.g., `{ openAI: OpenAI }`). |

## Attributes

Attach Respan-specific attributes to spans for filtering and grouping in the dashboard.

| Attribute | Type | Description |
|-----------|------|-------------|
| `customer_identifier` | `str` | User or customer identifier. |
| `customer_email` | `str` | Customer email address. |
| `customer_name` | `str` | Customer display name. |
| `trace_group_identifier` | `str` | Group related traces (e.g., by experiment or session). |
| `metadata` | `Dict` | Custom key-value pairs for analytics. |

<CodeGroup>
```python Python (update_current_span)
from respan_tracing import get_client, workflow

@workflow(name="my_workflow")
def my_workflow(user_id: str):
    client = get_client()
    client.update_current_span(
        respan_params={
            "customer_identifier": user_id,
            "trace_group_identifier": "pipeline-v2",
            "metadata": {"env": "production"},
        }
    )
    return "done"
```
```python Python (context manager)
from respan_tracing import workflow, respan_span_attributes

@workflow(name="my_workflow")
def my_workflow(user_id: str):
    with respan_span_attributes({
        "customer_identifier": user_id,
        "trace_group_identifier": "pipeline-v2",
        "metadata": {"env": "production"},
    }):
        return "done"
```
</CodeGroup>

## Gateway

Route LLM calls through the Respan gateway to use 250+ models with a single API key, while capturing full observability data.

<CodeGroup>
```python Python
from respan_tracing import RespanTelemetry, workflow, task
from openai import OpenAI

telemetry = RespanTelemetry()

# Point OpenAI client to Respan gateway
client = OpenAI(
    api_key="YOUR_RESPAN_API_KEY",
    base_url="https://api.respan.ai/api",
)

@task(name="generate")
def generate(prompt: str):
    response = client.chat.completions.create(
        model="gpt-4o-mini",
        messages=[{"role": "user", "content": prompt}],
    )
    return response.choices[0].message.content

@workflow(name="gateway_workflow")
def gateway_workflow():
    return generate("Hello from the gateway!")

gateway_workflow()
```
```typescript JavaScript
import { RespanTelemetry } from '@respan/tracing';
import OpenAI from 'openai';

const respanAi = new RespanTelemetry({
    apiKey: process.env.RESPAN_API_KEY || "",
    appName: 'gateway-app',
});

// Point OpenAI client to Respan gateway
const openai = new OpenAI({
    apiKey: process.env.RESPAN_API_KEY,
    baseURL: 'https://api.respan.ai/api',
});

async function main() {
    return await respanAi.withWorkflow(
        { name: 'gateway_workflow' },
        async () => {
            const completion = await openai.chat.completions.create({
                model: 'gpt-4o-mini',
                messages: [{ role: 'user', content: 'Hello from the gateway!' }],
            });
            return completion.choices[0].message.content;
        }
    );
}

main().catch(console.error);
```
</CodeGroup>

